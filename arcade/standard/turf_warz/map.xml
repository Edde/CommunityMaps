<map proto="1.5.0">
<name>Turf Warz</name>
<variant id="christmas" world="christmas">Christmas</variant>
<version>1.0.5</version>
<phase>development</phase>
<objective>Tug of war with your opponents as kills increase your playable territory.</objective>
<authors>
    <author uuid="75fd93dd-8e48-4698-81a2-97dae2ec5b5f"/> <!-- Pugzy -->
    <author uuid="e82603df-417d-4a95-bd1f-1720648be0b4" contribution="XML Assistance"/> <!-- Pablete1234 -->
</authors>
<teams>
    <team color="blue" min="1" max="100" id="blue-team">Blue</team>
    <team color="dark red" min="1" max="100" id="red-team">Red</team>
</teams>
<kits>
    <kit id="default-kit">
        <item unbreakable="true" enchantment="sharpness:1">iron sword</item>
        <item unbreakable="true" enchantment="power:1;sharpness:1">bow</item>
        <item material="arrow" amount="8"/>
        <item material="wool" team-color="true" amount="32"/>
        <helmet locked="true" unbreakable="true" team-color="true">iron helmet</helmet>
        <chestplate locked="true" unbreakable="true" team-color="true">leather chestplate</chestplate>
        <leggings locked="true" unbreakable="true" team-color="true">leather leggings</leggings>
        <boots locked="true" unbreakable="true">iron boots</boots>
        <effect duration="3s" amplifier="255">damage resistance</effect>
        <effect duration="2s" amplifier="1">speed</effect>
    </kit>
</kits>
<spawns>
    <spawn yaw="180" team="blue-team" kit="default-kit">
        <region>
            <cuboid min="-18,2,40" max="19,2,45"/>
        </region>
    </spawn>
    <spawn yaw="0" team="red-team" kit="default-kit">
        <region>
            <cuboid min="19,2,-38" max="-18,5,-44"/>
        </region>
    </spawn>
    <default yaw="-90">
        <region>
            <cylinder base="-31.5,26,0" height="0" radius="0.8"/>
        </region>
    </default>
</spawns>
<time>8m</time>
<rage/>
<maxbuildheight>7</maxbuildheight>
<filters>
    <material id="only-wool">wool</material>
    <material id="only-clay">stained clay</material>
    <team id="only-red">red-team</team>
    <team id="only-blue">blue-team</team>
    <!-- Filters for preventing empty team issues -->
    <players id="red-team-has-players" filter="only-red"/>
    <players id="blue-team-has-players" filter="only-blue"/>
    <pulse id="empty-team-check" period="1s" duration="0.5s">
        <!-- Change 'always' with 'never to disable/debug' -->
        <after id="empty-team-countdown" duration="5s" filter="all(never, match-running, any(not(blue-team-has-players), not(red-team-has-players)))"/>
    </pulse>
    <!-- Restricted global build and enter zones -->
    <apply block="never">
        <region>
            <negative>
                <rectangle id="pitch-area" min="21,-32" max="-21,32"/>
            </negative>
        </region>
    </apply>
    <apply block-break="only-wool"/>
    <apply enter="never">
        <region>
            <above y="10"/>
        </region>
    </apply>
    <!-- Buildable zones for each team -->
    <apply region="red-32" block="any(all(blue_score=64..,only-blue), all(red_score=1..,only-red))"/>
    <apply region="red-31" block="any(all(blue_score=63..,only-blue), all(red_score=2..,only-red))"/>
    <apply region="red-30" block="any(all(blue_score=62..,only-blue), all(red_score=3..,only-red))"/>
    <apply region="red-29" block="any(all(blue_score=61..,only-blue), all(red_score=4..,only-red))"/>
    <apply region="red-28" block="any(all(blue_score=60..,only-blue), all(red_score=5..,only-red))"/>
    <apply region="red-27" block="any(all(blue_score=59..,only-blue), all(red_score=6..,only-red))"/>
    <apply region="red-26" block="any(all(blue_score=58..,only-blue), all(red_score=7..,only-red))"/>
    <apply region="red-25" block="any(all(blue_score=57..,only-blue), all(red_score=8..,only-red))"/>
    <apply region="red-24" block="any(all(blue_score=56..,only-blue), all(red_score=9..,only-red))"/>
    <apply region="red-23" block="any(all(blue_score=55..,only-blue), all(red_score=10..,only-red))"/>
    <apply region="red-22" block="any(all(blue_score=54..,only-blue), all(red_score=11..,only-red))"/>
    <apply region="red-21" block="any(all(blue_score=53..,only-blue), all(red_score=12..,only-red))"/>
    <apply region="red-20" block="any(all(blue_score=52..,only-blue), all(red_score=13..,only-red))"/>
    <apply region="red-19" block="any(all(blue_score=51..,only-blue), all(red_score=14..,only-red))"/>
    <apply region="red-18" block="any(all(blue_score=50..,only-blue), all(red_score=15..,only-red))"/>
    <apply region="red-17" block="any(all(blue_score=49..,only-blue), all(red_score=16..,only-red))"/>
    <apply region="red-16" block="any(all(blue_score=48..,only-blue), all(red_score=17..,only-red))"/>
    <apply region="red-15" block="any(all(blue_score=47..,only-blue), all(red_score=18..,only-red))"/>
    <apply region="red-14" block="any(all(blue_score=46..,only-blue), all(red_score=19..,only-red))"/>
    <apply region="red-13" block="any(all(blue_score=45..,only-blue), all(red_score=20..,only-red))"/>
    <apply region="red-12" block="any(all(blue_score=44..,only-blue), all(red_score=21..,only-red))"/>
    <apply region="red-11" block="any(all(blue_score=43..,only-blue), all(red_score=22..,only-red))"/>
    <apply region="red-10" block="any(all(blue_score=42..,only-blue), all(red_score=23..,only-red))"/>
    <apply region="red-9" block="any(all(blue_score=41..,only-blue), all(red_score=24..,only-red))"/>
    <apply region="red-8" block="any(all(blue_score=40..,only-blue), all(red_score=25..,only-red))"/>
    <apply region="red-7" block="any(all(blue_score=39..,only-blue), all(red_score=26..,only-red))"/>
    <apply region="red-6" block="any(all(blue_score=38..,only-blue), all(red_score=27..,only-red))"/>
    <apply region="red-5" block="any(all(blue_score=37..,only-blue), all(red_score=28..,only-red))"/>
    <apply region="red-4" block="any(all(blue_score=36..,only-blue), all(red_score=29..,only-red))"/>
    <apply region="red-3" block="any(all(blue_score=35..,only-blue), all(red_score=30..,only-red))"/>
    <apply region="red-2" block="any(all(blue_score=34..,only-blue), all(red_score=31..,only-red))"/>
    <apply region="red-1" block="any(all(blue_score=33..,only-blue), all(red_score=32..,only-red))"/>
    <apply region="blue-1" block="any(all(blue_score=32..,only-blue), all(red_score=33..,only-red))"/>
    <apply region="blue-2" block="any(all(blue_score=31..,only-blue), all(red_score=34..,only-red))"/>
    <apply region="blue-3" block="any(all(blue_score=30..,only-blue), all(red_score=35..,only-red))"/>
    <apply region="blue-4" block="any(all(blue_score=29..,only-blue), all(red_score=36..,only-red))"/>
    <apply region="blue-5" block="any(all(blue_score=28..,only-blue), all(red_score=37..,only-red))"/>
    <apply region="blue-6" block="any(all(blue_score=27..,only-blue), all(red_score=38..,only-red))"/>
    <apply region="blue-7" block="any(all(blue_score=26..,only-blue), all(red_score=39..,only-red))"/>
    <apply region="blue-8" block="any(all(blue_score=25..,only-blue), all(red_score=40..,only-red))"/>
    <apply region="blue-9" block="any(all(blue_score=24..,only-blue), all(red_score=41..,only-red))"/>
    <apply region="blue-10" block="any(all(blue_score=23..,only-blue), all(red_score=42..,only-red))"/>
    <apply region="blue-11" block="any(all(blue_score=22..,only-blue), all(red_score=43..,only-red))"/>
    <apply region="blue-12" block="any(all(blue_score=21..,only-blue), all(red_score=44..,only-red))"/>
    <apply region="blue-13" block="any(all(blue_score=20..,only-blue), all(red_score=45..,only-red))"/>
    <apply region="blue-14" block="any(all(blue_score=19..,only-blue), all(red_score=46..,only-red))"/>
    <apply region="blue-15" block="any(all(blue_score=18..,only-blue), all(red_score=47..,only-red))"/>
    <apply region="blue-16" block="any(all(blue_score=17..,only-blue), all(red_score=48..,only-red))"/>
    <apply region="blue-17" block="any(all(blue_score=16..,only-blue), all(red_score=49..,only-red))"/>
    <apply region="blue-18" block="any(all(blue_score=15..,only-blue), all(red_score=50..,only-red))"/>
    <apply region="blue-19" block="any(all(blue_score=14..,only-blue), all(red_score=51..,only-red))"/>
    <apply region="blue-20" block="any(all(blue_score=13..,only-blue), all(red_score=52..,only-red))"/>
    <apply region="blue-21" block="any(all(blue_score=12..,only-blue), all(red_score=53..,only-red))"/>
    <apply region="blue-22" block="any(all(blue_score=11..,only-blue), all(red_score=54..,only-red))"/>
    <apply region="blue-23" block="any(all(blue_score=10..,only-blue), all(red_score=55..,only-red))"/>
    <apply region="blue-24" block="any(all(blue_score=9..,only-blue), all(red_score=56..,only-red))"/>
    <apply region="blue-25" block="any(all(blue_score=8..,only-blue), all(red_score=57..,only-red))"/>
    <apply region="blue-26" block="any(all(blue_score=7..,only-blue), all(red_score=58..,only-red))"/>
    <apply region="blue-27" block="any(all(blue_score=6..,only-blue), all(red_score=59..,only-red))"/>
    <apply region="blue-28" block="any(all(blue_score=5..,only-blue), all(red_score=60..,only-red))"/>
    <apply region="blue-29" block="any(all(blue_score=4..,only-blue), all(red_score=61..,only-red))"/>
    <apply region="blue-30" block="any(all(blue_score=3..,only-blue), all(red_score=62..,only-red))"/>
    <apply region="blue-31" block="any(all(blue_score=2..,only-blue), all(red_score=63..,only-red))"/>
    <apply region="blue-32" block="any(all(blue_score=1..,only-blue), all(red_score=64..,only-red))"/>
</filters>
<variables>
    <score id="team_score"/>
    <with-team id="red_score" var="team_score" team="red-team"/>
    <with-team id="blue_score" var="team_score" team="blue-team"/>
    <variable id="point_multiplier" scope="match" default="1"/>
    <!-- Goes from 0 -> 127 - Red side to Blue side - Even for Red - Odd for Blue -->
    <variable id="current_row_idx" scope="match" default="-1"/>
</variables>
<modes show-before="10s">
    <mode name="`l2x `dPoints" after="5m" action="increase-multiplier"/>
    <mode name="`l3x `dPoints" after="6m" action="increase-multiplier"/>
    <mode name="`l4x `dPoints" after="7m" action="increase-multiplier"/>
</modes>
<actions>
    <!-- Modify team scores in correct direction and do world changes -->
    <switch-scope id="player-gain-point" inner="team" outer="player">
        <repeat id="team-gain-point" times="point_multiplier" scope="team">
            <action filter="only-blue">
                <set var="blue_score" value="blue_score + 1"/>
                <set var="red_score" value="max(0, red_score - 1)"/>
                <set var="current_row_idx" value="(red_score * 2) + 1"/>
            </action>
            <action filter="only-red">
                <set var="current_row_idx" value="red_score * 2"/>
                <set var="red_score" value="red_score + 1"/>
                <set var="blue_score" value="max(0, blue_score - 1)"/>
            </action>
            <action id="update-world"/>
        </repeat>
    </switch-scope>
    <set id="increase-multiplier" scope="match" expose="true" var="point_multiplier" value="point_multiplier + 1"/>
    <!-- Always sets the start score of both teams -->
    <trigger filter="always" scope="team">
        <action>
            <set var="team_score" value="32"/>
        </action>
    </trigger>
    <!-- Push team towards win with other is empty -->
    <trigger filter="empty-team-check" action="test-empty-teams" scope="match"/>
    <switch-scope id="test-empty-teams" filter="any(all(only-blue, not(red-team-has-players)), all(only-red, not(blue-team-has-players)))" inner="team" outer="match">
        <action id="team-gain-point"/>
    </switch-scope>
    <trigger filter="empty-team-countdown" action="empty-team-countdown-started" scope="match"/>
    <message id="empty-team-countdown-started" text="`e⚠ Empty team detected so match will automatically end shortly."/>
    <!-- Update world by removing blocks above and changing floor -->
    <switch-scope id="update-world" inner="match" outer="team">
        <action filter="current_row_idx=0..31">
            <action filter="current_row_idx=0..7">
                <action filter="current_row_idx=0..1">
                    <fill id="fill-red-32" region="red-32" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=0"><fill id="fill-red-32-red" region="red-floor-32" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=1"><fill id="fill-red-32-blue" region="red-floor-32" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=2..3">
                    <fill id="fill-red-31-red" region="red-31" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=2"><fill region="red-floor-31" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=3"><fill region="red-floor-31" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=4..5">
                    <fill id="fill-red-30-red" region="red-30" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=4"><fill region="red-floor-30" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=5"><fill region="red-floor-30" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=6..7">
                    <fill id="fill-red-29-red" region="red-29" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=6"><fill region="red-floor-29" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=7"><fill region="red-floor-29" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=8..15">
                <action filter="current_row_idx=8..9">
                    <fill id="fill-red-28-red" region="red-28" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=8"><fill region="red-floor-28" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=9"><fill region="red-floor-28" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=10..11">
                    <fill id="fill-red-27-red" region="red-27" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=10"><fill region="red-floor-27" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=11"><fill region="red-floor-27" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=12..13">
                    <fill id="fill-red-26-red" region="red-26" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=12"><fill region="red-floor-26" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=13"><fill region="red-floor-26" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=14..15">
                    <fill id="fill-red-25-red" region="red-25" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=14"><fill region="red-floor-25" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=15"><fill region="red-floor-25" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=16..23">
                <action filter="current_row_idx=16..17">
                    <fill id="fill-red-24-red" region="red-24" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=16"><fill region="red-floor-24" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=17"><fill region="red-floor-24" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=18..19">
                    <fill id="fill-red-23-red" region="red-23" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=18"><fill region="red-floor-23" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=19"><fill region="red-floor-23" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=20..21">
                    <fill id="fill-red-22-red" region="red-22" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=20"><fill region="red-floor-22" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=21"><fill region="red-floor-22" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=22..23">
                    <fill id="fill-red-21-red" region="red-21" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=22"><fill region="red-floor-21" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=23"><fill region="red-floor-21" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=24..31">
                <action filter="current_row_idx=24..25">
                    <fill id="fill-red-20-red" region="red-20" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=24"><fill region="red-floor-20" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=25"><fill region="red-floor-20" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=26..27">
                    <fill id="fill-red-19-red" region="red-19" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=26"><fill region="red-floor-19" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=27"><fill region="red-floor-19" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=28..29">
                    <fill id="fill-red-18-red" region="red-18" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=28"><fill region="red-floor-18" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=29"><fill region="red-floor-18" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=30..31">
                    <fill id="fill-red-17-red" region="red-17" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=30"><fill region="red-floor-17" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=31"><fill region="red-floor-17" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
        </action>
        <action filter="current_row_idx=32..63">
            <action filter="current_row_idx=32..39">
                <action filter="current_row_idx=32..33">
                    <fill id="fill-red-16-red" region="red-16" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=32"><fill region="red-floor-16" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=33"><fill region="red-floor-16" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=34..35">
                    <fill id="fill-red-15-red" region="red-15" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=34"><fill region="red-floor-15" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=35"><fill region="red-floor-15" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=36..37">
                    <fill id="fill-red-14-red" region="red-14" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=36"><fill region="red-floor-14" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=37"><fill region="red-floor-14" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=38..39">
                    <fill id="fill-red-13-red" region="red-13" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=38"><fill region="red-floor-13" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=39"><fill region="red-floor-13" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=40..47">
                <action filter="current_row_idx=40..41">
                    <fill id="fill-red-12-red" region="red-12" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=40"><fill region="red-floor-12" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=41"><fill region="red-floor-12" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=42..43">
                    <fill id="fill-red-11-red" region="red-11" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=42"><fill region="red-floor-11" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=43"><fill region="red-floor-11" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=44..45">
                    <fill id="fill-red-10-red" region="red-10" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=44"><fill region="red-floor-10" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=45"><fill region="red-floor-10" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=46..47">
                    <fill id="fill-red-9-red" region="red-9" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=46"><fill region="red-floor-9" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=47"><fill region="red-floor-9" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=48..55">
                <action filter="current_row_idx=48..49">
                    <fill id="fill-red-8-red" region="red-8" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=48"><fill region="red-floor-8" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=49"><fill region="red-floor-8" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=50..51">
                    <fill id="fill-red-7-red" region="red-7" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=50"><fill region="red-floor-7" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=51"><fill region="red-floor-7" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=52..53">
                    <fill id="fill-red-6-red" region="red-6" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=52"><fill region="red-floor-6" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=53"><fill region="red-floor-6" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=54..55">
                    <fill id="fill-red-5-red" region="red-5" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=54"><fill region="red-floor-5" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=55"><fill region="red-floor-5" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=56..63">
                <action filter="current_row_idx=56..57">
                    <fill id="fill-red-4-red" region="red-4" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=56"><fill region="red-floor-4" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=57"><fill region="red-floor-4" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=58..59">
                    <fill id="fill-red-3-red" region="red-3" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=58"><fill region="red-floor-3" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=59"><fill region="red-floor-3" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=60..61">
                    <fill id="fill-red-2-red" region="red-2" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=60"><fill region="red-floor-2" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=61"><fill region="red-floor-2" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=62..63">
                    <fill id="fill-red-1-red" region="red-1" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=62"><fill region="red-floor-1" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=63"><fill region="red-floor-1" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
        </action>
        <action filter="current_row_idx=64..95">
            <action filter="current_row_idx=64..71">
                <action filter="current_row_idx=64..65">
                    <fill id="fill-blue-1-red" region="blue-1" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=64"><fill region="blue-floor-1" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=65"><fill region="blue-floor-1" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=66..67">
                    <fill id="fill-blue-2-red" region="blue-2" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=66"><fill region="blue-floor-2" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=67"><fill region="blue-floor-2" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=68..69">
                    <fill id="fill-blue-3-red" region="blue-3" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=68"><fill region="blue-floor-3" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=69"><fill region="blue-floor-3" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=70..71">
                    <fill id="fill-blue-4-red" region="blue-4" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=70"><fill region="blue-floor-4" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=71"><fill region="blue-floor-4" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=72..79">
                <action filter="current_row_idx=72..73">
                    <fill id="fill-blue-5-red" region="blue-5" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=72"><fill region="blue-floor-5" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=73"><fill region="blue-floor-5" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=74..75">
                    <fill id="fill-blue-6-red" region="blue-6" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=74"><fill region="blue-floor-6" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=75"><fill region="blue-floor-6" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=76..77">
                    <fill id="fill-blue-7-red" region="blue-7" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=76"><fill region="blue-floor-7" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=77"><fill region="blue-floor-7" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=78..79">
                    <fill id="fill-blue-8-red" region="blue-8" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=78"><fill region="blue-floor-8" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=79"><fill region="blue-floor-8" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=80..87">
                <action filter="current_row_idx=80..81">
                    <fill id="fill-blue-9-red" region="blue-9" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=80"><fill region="blue-floor-9" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=81"><fill region="blue-floor-9" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=82..83">
                    <fill id="fill-blue-10-red" region="blue-10" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=82"><fill region="blue-floor-10" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=83"><fill region="blue-floor-10" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=84..85">
                    <fill id="fill-blue-11-red" region="blue-11" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=84"><fill region="blue-floor-11" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=85"><fill region="blue-floor-11" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=86..87">
                    <fill id="fill-blue-12-red" region="blue-12" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=86"><fill region="blue-floor-12" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=87"><fill region="blue-floor-12" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=88..95">
                <action filter="current_row_idx=88..89">
                    <fill id="fill-blue-13-red" region="blue-13" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=88"><fill region="blue-floor-13" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=89"><fill region="blue-floor-13" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=90..91">
                    <fill id="fill-blue-14-red" region="blue-14" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=90"><fill region="blue-floor-14" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=91"><fill region="blue-floor-14" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=92..93">
                    <fill id="fill-blue-15-red" region="blue-15" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=92"><fill region="blue-floor-15" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=93"><fill region="blue-floor-15" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=94..95">
                    <fill id="fill-blue-16-red" region="blue-16" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=94"><fill region="blue-floor-16" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=95"><fill region="blue-floor-16" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
        </action>
        <action filter="current_row_idx=96..127">
            <action filter="current_row_idx=96..103">
                <action filter="current_row_idx=96..97">
                    <fill id="fill-blue-17-red" region="blue-17" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=96"><fill region="blue-floor-17" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=97"><fill region="blue-floor-17" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=98..99">
                    <fill id="fill-blue-18-red" region="blue-18" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=98"><fill region="blue-floor-18" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=99"><fill region="blue-floor-18" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=100..101">
                    <fill id="fill-blue-19-red" region="blue-19" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=100"><fill region="blue-floor-19" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=101"><fill region="blue-floor-19" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=102..103">
                    <fill id="fill-blue-20-red" region="blue-20" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=102"><fill region="blue-floor-20" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=103"><fill region="blue-floor-20" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=104..111">
                <action filter="current_row_idx=104..105">
                    <fill id="fill-blue-21-red" region="blue-21" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=104"><fill region="blue-floor-21" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=105"><fill region="blue-floor-21" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=106..107">
                    <fill id="fill-blue-22-red" region="blue-22" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=106"><fill region="blue-floor-22" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=107"><fill region="blue-floor-22" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=108..109">
                    <fill id="fill-blue-23-red" region="blue-23" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=108"><fill region="blue-floor-23" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=109"><fill region="blue-floor-23" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=110..111">
                    <fill id="fill-blue-24-red" region="blue-24" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=110"><fill region="blue-floor-24" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=111"><fill region="blue-floor-24" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=112..119">
                <action filter="current_row_idx=112..113">
                    <fill id="fill-blue-25-red" region="blue-25" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=112"><fill region="blue-floor-25" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=113"><fill region="blue-floor-25" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=114..115">
                    <fill id="fill-blue-26-red" region="blue-26" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=114"><fill region="blue-floor-26" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=115"><fill region="blue-floor-26" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=116..117">
                    <fill id="fill-blue-27-red" region="blue-27" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=116"><fill region="blue-floor-27" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=117"><fill region="blue-floor-27" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=118..119">
                    <fill id="fill-blue-28-red" region="blue-28" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=118"><fill region="blue-floor-28" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=119"><fill region="blue-floor-28" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
            <action filter="current_row_idx=120..127">
                <action filter="current_row_idx=120..121">
                    <fill id="fill-blue-29-red" region="blue-29" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=120"><fill region="blue-floor-29" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=121"><fill region="blue-floor-29" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=122..123">
                    <fill id="fill-blue-30-red" region="blue-30" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=122"><fill region="blue-floor-30" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=123"><fill region="blue-floor-30" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=124..125">
                    <fill id="fill-blue-31-red" region="blue-31" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=124"><fill region="blue-floor-31" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=125"><fill region="blue-floor-31" filter="only-clay" material="159:11"/></action>
                </action>
                <action filter="current_row_idx=126..127">
                    <fill id="fill-blue-32-red" region="blue-32" filter="only-wool" material="air"/>
                    <action filter="current_row_idx=126"><fill region="blue-floor-32" filter="only-clay" material="159:14"/></action>
                    <action filter="current_row_idx=127"><fill region="blue-floor-32" filter="only-clay" material="159:11"/></action>
                </action>
            </action>
        </action>
    </switch-scope>
</actions>
<regions>
    <!-- Area above floor -->
    <cuboid id="red-32" min="21,2,-31" max="-20,7,-32"/>
    <cuboid id="red-31" min="21,2,-30" max="-20,7,-31"/>
    <cuboid id="red-30" min="21,2,-29" max="-20,7,-30"/>
    <cuboid id="red-29" min="21,2,-28" max="-20,7,-29"/>
    <cuboid id="red-28" min="21,2,-27" max="-20,7,-28"/>
    <cuboid id="red-27" min="21,2,-26" max="-20,7,-27"/>
    <cuboid id="red-26" min="21,2,-25" max="-20,7,-26"/>
    <cuboid id="red-25" min="21,2,-24" max="-20,7,-25"/>
    <cuboid id="red-24" min="21,2,-23" max="-20,7,-24"/>
    <cuboid id="red-23" min="21,2,-22" max="-20,7,-23"/>
    <cuboid id="red-22" min="21,2,-21" max="-20,7,-22"/>
    <cuboid id="red-21" min="21,2,-20" max="-20,7,-21"/>
    <cuboid id="red-20" min="21,2,-19" max="-20,7,-20"/>
    <cuboid id="red-19" min="21,2,-18" max="-20,7,-19"/>
    <cuboid id="red-18" min="21,2,-17" max="-20,7,-18"/>
    <cuboid id="red-17" min="21,2,-16" max="-20,7,-17"/>
    <cuboid id="red-16" min="21,2,-15" max="-20,7,-16"/>
    <cuboid id="red-15" min="21,2,-14" max="-20,7,-15"/>
    <cuboid id="red-14" min="21,2,-13" max="-20,7,-14"/>
    <cuboid id="red-13" min="21,2,-12" max="-20,7,-13"/>
    <cuboid id="red-12" min="21,2,-11" max="-20,7,-12"/>
    <cuboid id="red-11" min="21,2,-10" max="-20,7,-11"/>
    <cuboid id="red-10" min="21,2,-9" max="-20,7,-10"/>
    <cuboid id="red-9" min="21,2,-8" max="-20,7,-9"/>
    <cuboid id="red-8" min="21,2,-7" max="-20,7,-8"/>
    <cuboid id="red-7" min="21,2,-6" max="-20,7,-7"/>
    <cuboid id="red-6" min="21,2,-5" max="-20,7,-6"/>
    <cuboid id="red-5" min="21,2,-4" max="-20,7,-5"/>
    <cuboid id="red-4" min="21,2,-3" max="-20,7,-4"/>
    <cuboid id="red-3" min="21,2,-2" max="-20,7,-3"/>
    <cuboid id="red-2" min="21,2,-1" max="-20,7,-2"/>
    <cuboid id="red-1" min="21,2,0" max="-20,7,-1"/>
    <cuboid id="blue-1" min="21,2,0" max="-20,7,1"/>
    <cuboid id="blue-2" min="21,2,1" max="-20,7,2"/>
    <cuboid id="blue-3" min="21,2,2" max="-20,7,3"/>
    <cuboid id="blue-4" min="21,2,3" max="-20,7,4"/>
    <cuboid id="blue-5" min="21,2,4" max="-20,7,5"/>
    <cuboid id="blue-6" min="21,2,5" max="-20,7,6"/>
    <cuboid id="blue-7" min="21,2,6" max="-20,7,7"/>
    <cuboid id="blue-8" min="21,2,7" max="-20,7,8"/>
    <cuboid id="blue-9" min="21,2,8" max="-20,7,9"/>
    <cuboid id="blue-10" min="21,2,9" max="-20,7,10"/>
    <cuboid id="blue-11" min="21,2,10" max="-20,7,11"/>
    <cuboid id="blue-12" min="21,2,11" max="-20,7,12"/>
    <cuboid id="blue-13" min="21,2,12" max="-20,7,13"/>
    <cuboid id="blue-14" min="21,2,13" max="-20,7,14"/>
    <cuboid id="blue-15" min="21,2,14" max="-20,7,15"/>
    <cuboid id="blue-16" min="21,2,15" max="-20,7,16"/>
    <cuboid id="blue-17" min="21,2,16" max="-20,7,17"/>
    <cuboid id="blue-18" min="21,2,17" max="-20,7,18"/>
    <cuboid id="blue-19" min="21,2,18" max="-20,7,19"/>
    <cuboid id="blue-20" min="21,2,19" max="-20,7,20"/>
    <cuboid id="blue-21" min="21,2,20" max="-20,7,21"/>
    <cuboid id="blue-22" min="21,2,21" max="-20,7,22"/>
    <cuboid id="blue-23" min="21,2,22" max="-20,7,23"/>
    <cuboid id="blue-24" min="21,2,23" max="-20,7,24"/>
    <cuboid id="blue-25" min="21,2,24" max="-20,7,25"/>
    <cuboid id="blue-26" min="21,2,25" max="-20,7,26"/>
    <cuboid id="blue-27" min="21,2,26" max="-20,7,27"/>
    <cuboid id="blue-28" min="21,2,27" max="-20,7,28"/>
    <cuboid id="blue-29" min="21,2,28" max="-20,7,29"/>
    <cuboid id="blue-30" min="21,2,29" max="-20,7,30"/>
    <cuboid id="blue-31" min="21,2,30" max="-20,7,31"/>
    <cuboid id="blue-32" min="21,2,31" max="-20,7,32"/>
    <!-- Floor regions -->
    <cuboid id="red-floor-32" min="21,1,-31" max="-20,2,-32"/>
    <cuboid id="red-floor-31" min="21,1,-30" max="-20,2,-31"/>
    <cuboid id="red-floor-30" min="21,1,-29" max="-20,2,-30"/>
    <cuboid id="red-floor-29" min="21,1,-28" max="-20,2,-29"/>
    <cuboid id="red-floor-28" min="21,1,-27" max="-20,2,-28"/>
    <cuboid id="red-floor-27" min="21,1,-26" max="-20,2,-27"/>
    <cuboid id="red-floor-26" min="21,1,-25" max="-20,2,-26"/>
    <cuboid id="red-floor-25" min="21,1,-24" max="-20,2,-25"/>
    <cuboid id="red-floor-24" min="21,1,-23" max="-20,2,-24"/>
    <cuboid id="red-floor-23" min="21,1,-22" max="-20,2,-23"/>
    <cuboid id="red-floor-22" min="21,1,-21" max="-20,2,-22"/>
    <cuboid id="red-floor-21" min="21,1,-20" max="-20,2,-21"/>
    <cuboid id="red-floor-20" min="21,1,-19" max="-20,2,-20"/>
    <cuboid id="red-floor-19" min="21,1,-18" max="-20,2,-19"/>
    <cuboid id="red-floor-18" min="21,1,-17" max="-20,2,-18"/>
    <cuboid id="red-floor-17" min="21,1,-16" max="-20,2,-17"/>
    <cuboid id="red-floor-16" min="21,1,-15" max="-20,2,-16"/>
    <cuboid id="red-floor-15" min="21,1,-14" max="-20,2,-15"/>
    <cuboid id="red-floor-14" min="21,1,-13" max="-20,2,-14"/>
    <cuboid id="red-floor-13" min="21,1,-12" max="-20,2,-13"/>
    <cuboid id="red-floor-12" min="21,1,-11" max="-20,2,-12"/>
    <cuboid id="red-floor-11" min="21,1,-10" max="-20,2,-11"/>
    <cuboid id="red-floor-10" min="21,1,-9" max="-20,2,-10"/>
    <cuboid id="red-floor-9" min="21,1,-8" max="-20,2,-9"/>
    <cuboid id="red-floor-8" min="21,1,-7" max="-20,2,-8"/>
    <cuboid id="red-floor-7" min="21,1,-6" max="-20,2,-7"/>
    <cuboid id="red-floor-6" min="21,1,-5" max="-20,2,-6"/>
    <cuboid id="red-floor-5" min="21,1,-4" max="-20,2,-5"/>
    <cuboid id="red-floor-4" min="21,1,-3" max="-20,2,-4"/>
    <cuboid id="red-floor-3" min="21,1,-2" max="-20,2,-3"/>
    <cuboid id="red-floor-2" min="21,1,-1" max="-20,2,-2"/>
    <cuboid id="red-floor-1" min="21,1,0" max="-20,2,-1"/>
    <cuboid id="blue-floor-1" min="21,1,0" max="-20,2,1"/>
    <cuboid id="blue-floor-2" min="21,1,1" max="-20,2,2"/>
    <cuboid id="blue-floor-3" min="21,1,2" max="-20,2,3"/>
    <cuboid id="blue-floor-4" min="21,1,3" max="-20,2,4"/>
    <cuboid id="blue-floor-5" min="21,1,4" max="-20,2,5"/>
    <cuboid id="blue-floor-6" min="21,1,5" max="-20,2,6"/>
    <cuboid id="blue-floor-7" min="21,1,6" max="-20,2,7"/>
    <cuboid id="blue-floor-8" min="21,1,7" max="-20,2,8"/>
    <cuboid id="blue-floor-9" min="21,1,8" max="-20,2,9"/>
    <cuboid id="blue-floor-10" min="21,1,9" max="-20,2,10"/>
    <cuboid id="blue-floor-11" min="21,1,10" max="-20,2,11"/>
    <cuboid id="blue-floor-12" min="21,1,11" max="-20,2,12"/>
    <cuboid id="blue-floor-13" min="21,1,12" max="-20,2,13"/>
    <cuboid id="blue-floor-14" min="21,1,13" max="-20,2,14"/>
    <cuboid id="blue-floor-15" min="21,1,14" max="-20,2,15"/>
    <cuboid id="blue-floor-16" min="21,1,15" max="-20,2,16"/>
    <cuboid id="blue-floor-17" min="21,1,16" max="-20,2,17"/>
    <cuboid id="blue-floor-18" min="21,1,17" max="-20,2,18"/>
    <cuboid id="blue-floor-19" min="21,1,18" max="-20,2,19"/>
    <cuboid id="blue-floor-20" min="21,1,19" max="-20,2,20"/>
    <cuboid id="blue-floor-21" min="21,1,20" max="-20,2,21"/>
    <cuboid id="blue-floor-22" min="21,1,21" max="-20,2,22"/>
    <cuboid id="blue-floor-23" min="21,1,22" max="-20,2,23"/>
    <cuboid id="blue-floor-24" min="21,1,23" max="-20,2,24"/>
    <cuboid id="blue-floor-25" min="21,1,24" max="-20,2,25"/>
    <cuboid id="blue-floor-26" min="21,1,25" max="-20,2,26"/>
    <cuboid id="blue-floor-27" min="21,1,26" max="-20,2,27"/>
    <cuboid id="blue-floor-28" min="21,1,27" max="-20,2,28"/>
    <cuboid id="blue-floor-29" min="21,1,28" max="-20,2,29"/>
    <cuboid id="blue-floor-30" min="21,1,29" max="-20,2,30"/>
    <cuboid id="blue-floor-31" min="21,1,30" max="-20,2,31"/>
    <cuboid id="blue-floor-32" min="21,1,31" max="-20,2,32"/>
</regions>
<score>
    <limit>64</limit>
</score>
<hunger>
    <depletion>off</depletion>
</hunger>
<kill-rewards>
    <!-- Give rewards and modify team scores -->
    <kill-reward action="player-gain-point">
        <item team-color="true" amount="8">wool</item>
        <item amount="2">arrow</item>
    </kill-reward>
</kill-rewards>
<item-remove>
    <item>iron sword</item>
    <item>bow</item>
    <item>arrow</item>
    <item>wool</item>
    <item>iron helmet</item>
    <item>leather chestplate</item>
    <item>leather leggings</item>
    <item>iron boots</item>
</item-remove>
</map>
